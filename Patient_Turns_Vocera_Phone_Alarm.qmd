---
title: "A Quality Improvement Initiative: Reducing Missed Patient Turns through Nursing Reminders using the Vocera Phone System"
shorttitle: "Reducing Missed Patient Turns Through Vocera Phone Alarms"
# Set names and affiliations.
# It is nice to specify everyone's orcid, if possible.
# There can be only one corresponding author, but declaring one is optional.
author:
  - name: Michael Avalos Jr  
    corresponding: true
    orcid: 0000-0000-0000-0001
    email: avalosmajr@uchicago.edu
    affiliations:
      - id: id1
        name: "University of Chicago"
        group: Biomedical Sciences Program
        department: Biological Sciences Division
        address: 5841 S. Maryland Ave.
        city: Chicago
        region: IL
        country: USA
        postal-code: 60637
  - name: Marianne Banas, RN
    orcid: 0000-0000-0000-0002
    affiliations: 
      - ref: id1
        name: "University of Chicago Medicine"
  - name: Peggy Zemansky, RN, BSN, CCRN
    orcid: 0000-0000-0000-0003
    affiliations:
        name: "University of Chicago Medicine"
author-note:
  status-changes: 
    affiliation-change: ~
    deceased: ~
  disclosures:
    study-registration: ~
    data-sharing: ~
    related-report: ~
    conflict-of-interest: The authors have no conflicts of interest to disclose.
    financial-support: ~
    gratitude: ~
    authorship-agreements: ~
abstract: "This document is a template demonstrating the apaquarto format."
keywords: [Hospital-acquired pressure injury, Incidence, Intensive care units, Pressure injury, Prevention, Quality Improvement]
# If true, tables and figures are mingled with the text instead of listed at the end of the document.
impact-statement: ~
floatsintext: true
# Numbered lines (.pdf and .docx only)
numbered-lines: false
# File with references
bibliography: bibliography.bib
# Suppress title page
suppress-title-page: false
# Link citations to references
link-citations: true
# Masks references that appear in the masked-citations list
mask: false
masked-citations:
  - schneider2012cattell
  - schneider2015intelligence
# If true, adds today's date below author affiliations. If text, can be any value.
# This is not standard APA format, but it is convenient.
# Works with docx, html, and typst. 
draft-date: false
# Language options. See https://quarto.org/docs/authoring/language.html
lang: en
language:
  citation-last-author-separator: "and"
  citation-masked-author: "Masked Citation"
  citation-masked-date: "n.d."
  citation-masked-title: "Masked Title"
  email: "Email"
  title-block-author-note: "Author Note"
  title-block-correspondence-note: "Correspondence concerning this article should be addressed to"
  title-block-role-introduction: "Author roles were classified using the Contributor Role Taxonomy (CRediT; https://credit.niso.org/) as follows:"
  title-impact-statement: "Impact Statement"
  references-meta-analysis: "References marked with an asterisk indicate studies included in the meta-analysis."
format:
  apaquarto-docx: default
  apaquarto-html: default
  apaquarto-pdf: default
  apaquarto-typst: 
    keep-typ: true
    list-of-figures: true
    list-of-tables: true
    toc: true
    documentmode: jou
    keep-tex: true
---

```{r}
#| label: setup
#| include: false

# Load necessary packages
library(conflicted)
library(tidyverse)
library(papaja)
library(flextable)
library(ftExtra)
library(knitr)
library(broom)
library(KableExtra)

# In addition to strategically ordering your library calls, 
# you can use the conflicts_prefer function to specify which 
# package's function to use when there are multiple options.
conflicts_prefer(dplyr::filter, .quiet = TRUE)
conflicts_prefer(flextable::separate_header, .quiet = TRUE)
conflicts_prefer(flextable::theme_apa, .quiet = TRUE) # we know that we never want the papaja one!

# Set seed
set.seed(1234)

# Generate r-references.bib file (see explanation in the Methods section)
papaja::r_refs(file = "r-references.bib")

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

# Introduction
  Nurses within intensive care units (ICUs) carry a significant responsibility of ensuring their patient(s) do not develop a hospital-acquired pressure injury (HAPI). Fortunately, current PI prevention approaches do not solely rely on personal knowledge and decision-making but instead guide through skin and risk assessments (e.g., Braden Scale) and repositioning. However, nurses are confronted with countless variables that may affect their performance, including but not limited to heavy workloads, fast-paced environments, and long hours. Collectively, this leads to inadvertent missed turns and documentation, increasing the patient’s risk for a HAPI. Therefore, there is a current need to better equip nurses to allow them to provide the care they are capable of. The current project aims to reduce missed patient turns and increase turn documentation within the SICU and BICU through alarms on the nurses’ Vocera phones. Characteristics of the intervention include the alarm being low-priority and alerting every two hours (totaling six times per shift); furthermore, the nurse is allowed to choose their own alarm and obtain the ability to use the snooze feature to silence. The primary requirement is that nurses put the alarm into their Vocera phone, which needs to be set at even hours. The effectiveness of the implemented intervention will be analyzed by comparing previous patient data within the electronic health records (EHR). This study will help determine whether phone alarm reminders can reduce missed patient turns and increase turn documentation. 

## Research Question
  How effective are the Vocera phone alarms in reminding SICU and BICU nurses to reposition patients and document turns in efforts to prevent hospital-acquired pressure injuries?  

## Literature Review
For approximately three decades, the Braden Scale has been adopted and served as the primary practice for PI prevention within the United States; nevertheless, PIs remain a concern for hospitals, especially within the ICUs [@kring2007reliability; @lyder2008pressure; @wei2020predictive]. As technology continues to evolve, it is necessary to utilize even its most simplistic offers, such as alarms, which have been shown to be effective in PI prevention. A computer on-screen list, which served as a reminder system, helped the healthcare staff to know the patient’s most recent risk assessment, PI location, and arrival date [@sebastian-viana2016reduction]. The reminder system demonstrated its effectiveness through a reduction of PIs developed [@sebastian-viana2016reduction]. Group A, who was not exposed to the intervention in 2009, reported 84 PIs out of the 9,263 patients, while Group B, who were involved in the reminder system, reported that out of the 9,220 patients, only 59 developed PIs [@sebastian-viana2016reduction]. Moreover, technology in PI prevention consists of various interventions like wearable sensors, which have been associated with cost-effectiveness, decreased HAPI development, and improved turn compliance; however, the claim can be made that additional efforts should be explored before the purchases of LEAF Sensors at $250/sensor [@crotty2023using]. Interestingly, a study conducted by [@Harmon2016] helped to display that cueing (e.g., verbal) can improve rates for patient turns; moreover, musical cues associated with repositioning demonstrated additional potential [@Yap2013]. Therefore, the Vocera phone alarms may contribute to reminding nurses to input turn documentation, turn patients every two hours, and improve patient outcomes through a more cost-effective approach. The intervention can possibly better equip nurses and allow them to provide the most efficient care.

# Methods 
### Data storage
Weekly audits are performed through chart review and documented on paper. Data collected through audit includes patient initials, room number, MRN, length of stay, Braden Score, turned Q2, description (time of event, type of event, and nurse associated with event), total missed turns, and percentage of turn success for that patient that week. The weekly audit papers remain with Marianne Banas, RN, and Peggy Zemansky, RN, BSN. For this comparison, the data will be transferred from paper and stored within REDCap to ensure the protection of sensitive information. Furthermore, it should be noted that identifiers will be removed. Access to the weekly audit forms includes Michael Avalos Jr., Marianne Banas, RN, and Peggy Zemansky, RN, BSN, CCRN. Access to REDCap will include Michael Avalos Jr. as the primary project owner but may include Marianne Banas, RN, and Peggy Zemansky, RN, BSN, upon request. 

### EHR data collection
Data will be extracted from patients before and after the nursing reminders were implemented (7/1/2024 to 5/1/2025). Patients prior to the implementation will undergo the same weekly form measurements as mentioned above; additional variables such as race, gender, age, weight, diseases, and history of pressure injury will be recorded. Information collected from the EHR for patients includes MRN, length of stay, Braden Score, turned Q2, description (time of event, type of event, and nurse associated with event), turn documentation, race, gender, age, weight, diseases, and history of pressure injury. Information collected from the EHR for nurses includes name, shift, experience, and turn documentation. 

## Project Deliverables 

### Data Storage
- Information and data collected through audits and EHR will be placed in a secure storage known as REDCap with access available to only Michael Avalos Jr., Marianne Banas, RN, and Peggy Zemansky, RN, BSN, CCRN.
	
### Data Analysis and Quality Improvement Report
- A detailed pre-intervention and intervention analysis will help evaluate the effectiveness of the Vocera phone alarms across numerous variables (e.g., patients, shifts, and nurses).

- Based on data and observations, recommendations will be proposed for the current intervention’s probable continual usage and before its possible implementation into additional units at UCM.

### Final Presentation
- A formal presentation will summarize the main findings for MS Biomedical Sciences and UCM.  

# Results
### Nurse Analysis 
  The most committed type of event were missed turns (60) in comparison to repeated turns (40), as seen in @fig-Nurse_Shift_Event. To gain more insight, the day and night shifts were investigated, which showed consistency with missed turn being the most common amongst both shifts; however, the day shift was associated with 16 more total events than the night shift @fig-Nurse_Shift_Event. The notable difference between shifts lead to comparison of weekday and weekends, as seen in @fig-Nurse_Weekdayend_Type, which shwoed that weekdays had 36 and 20 more total events and missed turns, respectively. The differences between time of week and shift types made the team curious as to whether if there were specifc nurses responsible for majority of these actions and whether there were anymore associations (e.g., missed vs. repeated, day vs. night). If one refers to @fig-SpecNurse_Event_Amount, the nurses associated with the most events are Nurses C, H, K, and V with 9, 6, 6, 6, respectively. Three out the four nurses commited more missed turns during their day shift (@fig-SpecNurse_Shift_missed). Interestingly, Nurses B, I, K, N, R, S did not obtain one repeated turn while only nurse z was able to avoid commiting a missed turn, @fig-SpecNurse_Event_Amount. Finally, it was determined that no association between the nurse and type of event exists based on results from the Chi-square test @tbl-Ttest_Chisq_Table. 
  
  
```{r}
#| label: Creation of Fake Data
#| include: false
fake_data <- tibble(
  Patient_ID = 1:100,
  Age = sample(20:90, 100, replace = TRUE),
  Nurse = sample(LETTERS, 100, replace = TRUE),
  Braden_Scale = sample(6:23, 100, replace = TRUE),
  Length_of_Stay = sample(0:200, 100, replace = TRUE),
  Type_of_Event = sample(c("Missed Turn", "Repeated Turn"), 100, replace = TRUE),
  Week_of_Event = sample(seq(as.Date("2024-09-01"), as.Date("2025-02-01"), by = "day"), 100, replace = TRUE),
  Time_of_Event = format(sample(seq(ISOdatetime(2024,1,1,0,0,0), ISOdatetime(2025,1,31,23,59,59), by = "hour"), 100, replace = TRUE), "%H:%M:%S"),
  Date_of_Event = sample(seq(as.Date("2024-09-01"), as.Date("2025-02-01"), by = "day"), 100, replace = TRUE)
)

# CHECK
fake_data

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```
  
```{r}
#| label: Rename and Reorder Columns
#| include: false
fake_data <- fake_data %>%
  select("Patient ID" = "Patient_ID", "Age", "Braden Scale" = "Braden_Scale", "Length of Stay" =  "Length_of_Stay","Type of Event" = "Type_of_Event", "Week of Event" = "Week_of_Event", "Time of Event" = "Time_of_Event", "Date of Event" = "Date_of_Event", "Nurse")

# CHECK
fake_data

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```
  
```{r}
#| label: Descriptive stats pt. 1
#| include: false
fake_data %>%
  summarize(
    mean_age = mean(Age, na.rm = TRUE), # na.rm means it will ignore any missing values
    sd_age = sd(Age, na.rm = TRUE),
    mean_los = mean(`Length of Stay`, na.rm = TRUE),
    sd_los = sd(`Length of Stay`, na.rm = TRUE)
  ) %>%
    mutate(
  `mean_age` = round(`mean_age`, 1),
  `sd_age` = round(`sd_age`, 1),
  `mean_los` = round(`mean_los`, 1),
  `sd_los` = round(`sd_los`, 1)
  ) %>%
  rename(
  `Mean Age` = `mean_age`,
  `Standard Deviation Age` = `sd_age`,
  `Mean Length of Stay` = `mean_los`,
  `Standard Deviation Length of Stay` = `sd_los`)

 ########################### ########################### ###########################

# Type of Event Occurrences
fake_data %>%
  count(`Type of Event`, sort = TRUE) # sort = True places it in descending order 

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```

```{r}
#| label: NURSE DATA ANALYSIS PT.1
#| include: false
## 1. How many events were associated with a nurse  
fake_nurse_event_data <- fake_data # Moving original set into new one (fake_nurse_event_data) 
fake_nurse_event_data
fake_nurse_event_data %>%
  count(`Nurse`, sort = TRUE)

 ########################### ########################### ###########################

## 2. Percentage and which nurses committed which event for instance Nurse C was associated with 9 events; therefore, how many were missed vs repeated turns
fake_nurse_event_data_Perc <- fake_nurse_event_data %>%
  group_by(`Nurse`, `Type of Event`) %>%
  summarize(Count = n(), .groups = "drop") %>% # .groups = "drop" will remove the grouping basically groups it to do count then ungroups it
  group_by(Nurse) %>% # We are now grouping 
  mutate(Percentage = (Count / sum(Count))*100) %>% # Count/sum(count) will calc propor then mult by 100 helps to create %
  pivot_wider( # Helping to move the data from long to wide data format below
    names_from = `Type of Event`, 
    values_from = c(Count, Percentage),
    values_fill = list(Count = 0, Percentage = 0)) %>% # If anything is missing then na WILL NOT be placed but instead WILL have 0 
  ungroup()

# Check
fake_nurse_event_data_Perc

 ########################### ########################### ########################### 

## 3. Which nurses committed which event for instance Nurse C was associated with 9 events; therefore, how many were missed vs repeated turns
fake_nurse_event_data <- fake_nurse_event_data %>%
  group_by(`Nurse`, `Type of Event`) %>%
  summarize(Count = n(), .groups = "drop") %>%
  pivot_wider(names_from = `Type of Event`, values_from = Count, values_fill = list(Count = 0)) # Helping to move the data from long to wide data format

 ########################### ########################### ###########################

## 2.1. Fixing the deci placement 
fake_nurse_event_data_Perc <- fake_nurse_event_data_Perc %>%
  mutate(
  `Percentage_Missed Turn` = round(`Percentage_Missed Turn`, 1),
  `Percentage_Repeated Turn` = round(`Percentage_Repeated Turn`, 1))

 # Check 
fake_nurse_event_data_Perc

 ########################### ########################### ########################### 

## 2.2. Fixing the names 
  fake_nurse_event_data_Perc <- fake_nurse_event_data_Perc %>%
  rename(
    `Percentage Missed Turn` = `Percentage_Missed Turn`,
    `Percentage Repeated Turn` = `Percentage_Repeated Turn`,
    `Count Missed Turn` = `Count_Missed Turn`,
    `Count Repeated Turn` = `Count_Repeated Turn`)
 
# Check
fake_data_Repeated <- fake_data
fake_data_Repeated <- fake_data_Repeated %>%
mutate(Repeated_Turn_YesorNo = if_else(str_detect(`Type of Event`, "Repeated Turn"), "Yes", "No")) %>% # str_detect will return a true/false or yes/no
  mutate(Repeated_Turn_YesorNo = str_to_upper(Repeated_Turn_YesorNo)) # str_to_upper will cap all letters while str_to_title does first letter

# Check
fake_data_Repeated 

 ########################### ########################### ###########################

# Capitalize Nurse Letters
fake_data <- fake_data %>%
  mutate(Nurse = str_to_title(Nurse)) # str_to_title does first letter ; REMINDER IT IS NOT THE TITLE ITS THE DATA IN COLUMN

# Check
fake_data

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```
  
```{r}
#| label: NURSE DATA ANALYSIS PT.3 
#| include: false
fake_nurse_shift <- fake_data %>%
mutate(`Nurse` = as.factor(`Nurse`),
    Hour = as.numeric(format(strptime(`Time of Event`, format = "%H:%M:%S"), "%H")), # parses chr string to date-time  
    Shift_Type = case_when(
      Hour >= 6 &
      Hour < 18 ~ "Day", 
TRUE ~ "Night")) %>%
mutate(
  Shift_Type = fct_recode(Shift_Type, "Day Shift" = "Day", "Night Shift" = "Night"), # Renaming forcat func
   Shift_Type = fct_relevel(Shift_Type,"Day Shift", "Night Shift"), # reorder levels forcat func
  `Type of Event` = factor(`Type of Event`, levels = c("Missed Turn", "Repeated Turn")),
  `Nurse` = fct_lump(`Nurse`, n = 4)) %>% # creates other categ forecat func
   select(-Hour)
  
# Check
fake_nurse_shift

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```
  
  
```{r}
#| label: fig-Nurse_Shift_Event
#| echo: false
#| fig-width: 5
#| fig-height: 3
#| fig-cap: The two types of events (missed and repeated) and their occurrences during the nurses two types of shifts (day and night).
ggplot(fake_nurse_shift, aes(x= `Shift_Type`, fill= `Type of Event`)) +
  geom_bar(position = "stack", width = 0.7, color = "black") +
  geom_text(stat = "count", aes(label = after_stat(count)), 
    position = position_stack(vjust = 0.5), size = 6, color = "white") + # geom_text is labels/text/values for bars here, aes(label = ..count..) is just the count for each category, position _stack places the label inside the bars, vjust helping to center text (vertically remember hjust)
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Event Type Occurrence by Shift",
       x = "Shift Type",
       y = "Number of Events",
       fill = "Event Type") +
  theme_minimal(base_family = "Times New Roman") +
  theme(
plot.title = element_text(size = 14, face = "bold", hjust = 0.5),
axis.text.x = element_text(size = 10, face = "bold", color = "black"),
axis.text.y = element_text(size = 10, color = "black"),
axis.title.x = element_text(size = 12, face = "bold"),
axis.title.y = element_text(size = 12, face = "bold"),
legend.position = "top",
legend.title = element_text(size = 10, face = "bold"),
legend.text = element_text(size = 10),
panel.grid.major = element_line(color = "gray90", linetype = "dashed", linewidth = 0.3), 
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank())

fake_nurse_shift %>%
  count(`Type of Event`, sort = TRUE) 

fake_nurse_shift

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```

```{r}
#| label: NURSE DATA ANALYSIS PT.4
#| include: false
fake_nurse_weekdayend <- fake_data
fake_nurse_weekdayend <- fake_nurse_weekdayend  %>%
mutate(
  Day_Type = case_when(
    weekdays(as.Date(`Date of Event`)) %in% c("Saturday", "Sunday") ~ "Weekend",     TRUE ~ "Weekday"  
  )
)

# Check
fake_nurse_weekdayend

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```

```{r}
#| label: fig-Nurse_Weekdayend_Type
#| echo: false
#| fig-width: 5
#| fig-height: 3
#| fig-cap: The two types of events (missed and repeated) and their occurrences during weekdays and weekends.   
## NURSE DATA ANALYSIS PLOT PT.4
ggplot(fake_nurse_weekdayend, aes(x = Day_Type, fill = `Type of Event`)) +
  geom_bar(position = "dodge", width = 0.6, color = "black") +
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Event Type Occurrence on Weekdays vs. Weekends",
       x = "Day Type",
       y = "Number of Events",
       fill = "Event Type") +
  theme_minimal(base_family = "Times New Roman") +
theme(
plot.title = element_text(size = 15, face = "bold", hjust = 0.5),
axis.text.x = element_text(size = 10, face = "bold", color = "black"),
axis.text.y = element_text(size = 10, color = "black"),
axis.title.x = element_text(size = 12, face = "bold"),
axis.title.y = element_text(size = 12, face = "bold"),
legend.position = "top",
legend.title = element_text(size = 10, face = "bold"),
legend.text = element_text(size = 10),
panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank())

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```
  
  
```{r}
#| label: fig-SpecNurse_Event_Amount
#| echo: false
#| fig-width: 5
#| fig-height: 3
#| fig-cap: The amount and type of events (missed and repeated) commited by each nurse.
## NURSE DATA ANALYSIS PLOTS pt. 1

# Convert the data back to long
fake_nurse_event_data_Perc_long <- fake_nurse_event_data_Perc
fake_nurse_event_data_Perc_long <- fake_nurse_event_data_Perc_long %>%
pivot_longer(cols = c(`Count Missed Turn`, `Count Repeated Turn`), 
              names_to = "Event Type", values_to = "Count")

########################### ########################### ###########################

# 1 Bar Chart (# of Events / Nurse)
ggplot(fake_nurse_event_data_Perc_long, aes(x = Nurse, y= Count, fill = `Event Type`)) + #aes is aesthetic, fill is type of aesthetic and here bars are filled based on event type
  geom_bar(stat = "identity", position = position_dodge(width = 0.8), width = 0.7) +
  # geom_bar creates bar char, stat= "identity" uses the values from data set, position = position_dodge helps make sure the bars are not stacked 
  labs(title = "Number of Events Per Nurse", x = "Nurse", y = "Event Count") +
  scale_fill_manual(values = c("Count Missed Turn" = "blue", 
                               "Count Repeated Turn" = "orange")) + # scale_fill_manual allows for you to place the colors manually 
  theme_minimal(base_family = "Times New Roman") +
    theme(
      axis.text.x = element_text(angle = 0, hjust = 0.5, size = 10), # hjust used for overlap prevention for text  
      axis.text.y = element_text(size = 10),
      axis.title.x = element_text(size = 12, face = "bold"),
      axis.title.y = element_text(size = 12, face = "bold"),
      plot.title = element_text(size = 18, face = "bold", hjust = 0.5),
      legend.position = "top",
      legend.title = element_text(size = 10, face = "bold"),
      legend.text = element_text(size = 10),
      panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
      plot.margin = margin(10, 10, 10, 10),
      panel.grid.minor = element_blank()) # panel.grid.minor helps get rid of the grid lines

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```
  
  
```{r}
#| label: fig-SpecNurse_Shift_missed
#| echo: false
#| fig-width: 5
#| fig-height: 3
#| fig-cap: The top five nurses that committed the most events and their event type. 
ggplot(fake_nurse_shift %>% filter(`Type of Event` == "Missed Turn"), 
       aes(x = Nurse, fill = `Shift_Type`)) +
  geom_bar(position = "dodge", width = 0.7, color = "black") +
  labs(title = "Most Occurrences by Nurses",
       x = "Nurse",
       y = "Number of Missed Turns",
       fill = "Shift Type") +
  scale_fill_manual(values = c("Day Shift" = "blue", "Night Shift" = "orange")) +
  theme_minimal(base_family = "Times New Roman") +
  theme(
    plot.title = element_text(size = 22, face = "bold", hjust = 0.5),
    axis.text.x = element_text(size = 10, face = "bold", color = "black"),
    axis.text.y = element_text(size = 10, color = "black"),
    axis.title.x = element_text(size = 12, face = "bold"),
    axis.title.y = element_text(size = 12, face = "bold"),
    legend.position = "top",
    legend.title = element_text(size = 10, face = "bold"),
    legend.text = element_text(size = 10),
    panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
    plot.margin = margin(10, 10, 10, 10),
    panel.grid.minor = element_blank())

# Chatttttttt

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```
 
  
### Age Analysis  
  The patients were separated into four age groups 20-39, 40-59, 60-79, 80+; here, it was shown across all age groups, missed turns were the most common type of event. It is worth noting that within the 60-79 age group, there were 10 more missed than repeated turns, which was double the second age gorups (@fig-Nurse_Event_Age). Surprisingly, missed turns were the most common amongst all levels of risk and age groups, expect for one group (80+) which was tied @fig-Age_Type_Risk.  
  
```{r}
#| label: Patient Analysis pt 1 
#| include: false
fake_patient_event <- fake_data
fake_patient_event <- fake_patient_event %>%
  mutate(Age_Group = cut(Age, breaks = c(20, 40, 60, 80, 100), # cut whatever into a category, breaks will help specify the point where it should be cut off
                         labels = c("20-39", "40-59", "60-79", "80+")))

# Check
fake_patient_event

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```

  
```{r}
#| label: fig-Nurse_Event_Age
#| echo: false
#| fig-width: 5
#| fig-height: 3
#| fig-cap: The amount and type of events committed per age group. 
## Patient Analysis PLOT pt 1
ggplot(fake_patient_event, aes(x = Age_Group, fill = `Type of Event`)) +
  geom_bar(position = "dodge", width = 0.8, color = "black") +
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Event Occurrence by Age Group",
       x = "Age Group",
       y = "Number of Events",
       fill = "Event Type") + 
  theme_minimal(base_family = "Times New Roman") +
theme(
plot.title = element_text(size = 18, face = "bold", hjust = 0.5),
axis.text.x = element_text(size = 10, face = "bold", color = "black"),
axis.text.y = element_text(size = 10, color = "black"),
axis.title.x = element_text(size = 12, face = "bold"),
axis.title.y = element_text(size = 12, face = "bold"),
legend.position = "top",
legend.title = element_text(size = 10, face = "bold"),
legend.text = element_text(size = 10),
panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank())

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: Patient Stay and Risk Level
#| include: false
fake_patient_event <- fake_patient_event %>%
  mutate(
    Type_of_Stay = if_else(`Length of Stay` >= 15, "Long Stay", "Normal Stay")
  )


## High Risk and Patient Stay
## Less than 9 is considered severe
fake_patient_event <- fake_patient_event %>%
  mutate(
    Long_Stay_High_Risk = if_else(
      (`Braden Scale` <= 12 & `Length of Stay` >15) | (`Braden Scale` <9),
      "High Risk", 
      "Normal Risk"
    ))

# Check 
fake_patient_event

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```
  
  
```{r}
#| label: fig-Age_Type_Risk
#| echo: false
#| fig-width: 5
#| fig-height: 3
#| fig-cap: The amount and type of events committed based on patients age group and risk-level. 

ggplot(fake_patient_event, aes(x = `Age_Group`, fill = `Type of Event`)) +
  geom_bar(position = "dodge", color = "black") +
  facet_wrap(~ Long_Stay_High_Risk) + 
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Event Occurrences by Risk-Level",
       x = "Age Group",
       y = "Number of Events",
       fill = "Event Type") +
  theme_minimal(base_family = "Times New Roman") +
  theme(
    plot.title = element_text(size = 20, face = "bold", hjust = 0.5),
    axis.text.x = element_text(size = 10, face = "bold", color = "black"),
    axis.text.y = element_text(size = 10, color = "black"),
    axis.title.x = element_text(size = 12, face = "bold"),
    axis.title.y = element_text(size = 12, face = "bold"),
    legend.position = "top",
    legend.title = element_text(size = 10, face = "bold"),
    legend.text = element_text(size = 10),
    panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3),
    plot.margin = margin(10, 10, 10, 10),
    panel.grid.minor = element_blank()
  )

### chattttttt

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```
  
The study wanted to investigate what was the most common type of event for each age, which show (----- check it for braden scale ). it was shown that the -----  committed ---- however for both shifts were popular in the sense that Missed turn was the most committed 

# Braden Scale Analysis 
Furthermore, a t-test noted no significant difference, regarding the Braden Scale scores and type of events @tbl-Ttest_Chisq_Table. 



```{r}
#| label: T-test Braden Score and Types of Events
#| include: false
Braden_t_test <- t.test(`Braden Scale` ~ `Type of Event`, data = fake_data)
# Means for two groups is compared to dictate whether the diff is stat sig (t-test), checking if the braden score alters based on missed or repeated

# Check
Braden_t_test

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```


```{r}
#| label: Chisq Test Nurse and Events
#| include: false
nurse_event_table <- table(fake_data$`Type of Event`, fake_data$`Nurse`)
# Helping to create a table (contingency)
# chisq helps determine for two cat vars if there is stat relationship 

# Chi-sq-test
chi_sq_test_nurse_event <- chisq.test(nurse_event_table)

# Check
chi_sq_test_nurse_event

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```

```{r}
#| label: tbl-Ttest_Chisq_Table
#| echo: false
#| tbl-width: 5
#| tbl-height: 3
#| tbl-cap: T-test and Chi-square test Table. 

# Need to remember tbl not tab
Ttest_Chisq_Table <- data.frame(
# df to have test results stored
Test = c("T-Test (Braden Scale ~ Type of Event", "Chi-Square (Event ~ Nurse Associated)"), 
  # t-test and and chi-sq listed
Statistic = c(round(Braden_t_test$statistic, 2),
# test stat (tval & chisq val) for both stored 
round(chi_sq_test_nurse_event$statistic, 2)),
p_value = c(round(Braden_t_test$p.value, 4),
# p-val is stored
round(chi_sq_test_nurse_event$p.value, 2)),
# p-val is stored
df = c(round(Braden_t_test$parameter, 2), chi_sq_test_nurse_event$parameter),
# degreees of freedom 
Method = c(Braden_t_test$method, chi_sq_test_nurse_event$method)
) # use of method is stored (e.g., welech and pearson)

kable(Ttest_Chisq_Table,
      # kable helps a formatted table to be created 
      caption = "Hypothesis Test Results: T-Test and Chi-Square",
      col.names = c("Test", "Statistic", "p-value", "Degress of Freedom", "Method")) %>%
  kable_styling(full_width = FALSE, position = "center", bootstrap_options = c("striped", "hover", "condensed")) %>%
  column_spec(2, width = "2cm") %>%
  column_spec(3, width = "2cm") %>%
  column_spec(4, width = "3cm") %>%
  column_spec(5, width = "5cm")


# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
```

## Timeline
The timeline displayed below illustrates the plans going forward. 

### Stage One: Quality Improvement Form 

- Resubmit quality improvement form by **03/22/25**. 

### Stage Two: Surveys

- Send out surveys to nursing staff by **04/15/25**. 

### Stage Three: Data Storage

- Place all audit data in REDCap by **04/15/25**. 
- Place all non-intervention data in REDCap by **4/30/25**.
  
### Stage Four: Observations

- Observe the intervention in-person (~ 5-10 days) by **05/05/25**.

### Stage Five: Analysis 

- Analysis completed by **5/20/25**.

### Stage Six:Final Write-up

- Have Final write-up completed by **5/20/25**

## Conclusion 
This study intends to determine the effectiveness of the reminders from the Vocera phone in turn documentation compliance and reducing missed patient turns. There is no argument that nurses provide appropriate care; however, continuous mental and physical demands increase unintentional human error (e.g., missed documentation and turns), reducing efficiency. While technology advances, it is essential to understand whether already purchased electronic devices can contribute to a nurse’s provided care. Therefore, it demonstrates the need to understand the extent to which existing cost-effective tools, such as the Vocera phone alarms, may help improve patient outcomes and nursing performance. 

## References


::: {#refs}
:::


```{r}
#| label: Creation of Fake Data (original)
#| include: false
fake_data <- tibble(
  Patient_ID = 1:100,
  Age = sample(20:90, 100, replace = TRUE),
  Nurse = sample(LETTERS, 100, replace = TRUE),
  Braden_Scale = sample(6:23, 100, replace = TRUE),
  Length_of_Stay = sample(0:200, 100, replace = TRUE),
  Type_of_Event = sample(c("Missed Turn", "Repeated Turn"), 100, replace = TRUE),
  Week_of_Event = sample(seq(as.Date("2024-09-01"), as.Date("2025-02-01"), by = "day"), 100, replace = TRUE),
  Time_of_Event = format(sample(seq(ISOdatetime(2024,1,1,0,0,0), ISOdatetime(2025,1,31,23,59,59), by = "hour"), 100, replace = TRUE), "%H:%M:%S"),
  Date_of_Event = sample(seq(as.Date("2024-09-01"), as.Date("2025-02-01"), by = "day"), 100, replace = TRUE)
)

# CHECK
fake_data

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: Rename and Reorder Columns (original)
#| include: false
fake_data <- fake_data %>%
  select("Patient ID" = "Patient_ID", "Age", "Braden Scale" = "Braden_Scale", "Length of Stay" =  "Length_of_Stay","Type of Event" = "Type_of_Event", "Week of Event" = "Week_of_Event", "Time of Event" = "Time_of_Event", "Date of Event" = "Date_of_Event", "Nurse")

# CHECK
fake_data

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: Descriptive stats pt. 1 (original)
#| include: false
fake_data %>%
  summarize(
    mean_age = mean(Age, na.rm = TRUE), # na.rm means it will ignore any missing values
    sd_age = sd(Age, na.rm = TRUE),
    mean_los = mean(`Length of Stay`, na.rm = TRUE),
    sd_los = sd(`Length of Stay`, na.rm = TRUE)
  ) %>%
    mutate(
  `mean_age` = round(`mean_age`, 1),
  `sd_age` = round(`sd_age`, 1),
  `mean_los` = round(`mean_los`, 1),
  `sd_los` = round(`sd_los`, 1)
  ) %>%
  rename(
  `Mean Age` = `mean_age`,
  `Standard Deviation Age` = `sd_age`,
  `Mean Length of Stay` = `mean_los`,
  `Standard Deviation Length of Stay` = `sd_los`)

 ########################### ########################### ###########################

# Type of Event Occurrences
fake_data %>%
  count(`Type of Event`, sort = TRUE) # sort = True places it in descending order 

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: NURSE DATA ANALYSIS PT.1 (original)
## 1. How many events were associated with a nurse  
fake_nurse_event_data <- fake_data # Moving original set into new one (fake_nurse_event_data) 
fake_nurse_event_data
fake_nurse_event_data %>%
  count(`Nurse`, sort = TRUE)

 ########################### ########################### ###########################

## 2. Percentage and which nurses committed which event for instance Nurse C was associated with 9 events; therefore, how many were missed vs repeated turns
fake_nurse_event_data_Perc <- fake_nurse_event_data %>%
  group_by(`Nurse`, `Type of Event`) %>%
  summarize(Count = n(), .groups = "drop") %>% # .groups = "drop" will remove the grouping basically groups it to do count then ungroups it
  group_by(Nurse) %>% # We are now grouping 
  mutate(Percentage = (Count / sum(Count))*100) %>% # Count/sum(count) will calc propor then mult by 100 helps to create %
  pivot_wider( # Helping to move the data from long to wide data format below
    names_from = `Type of Event`, 
    values_from = c(Count, Percentage),
    values_fill = list(Count = 0, Percentage = 0)) %>% # If anything is missing then na WILL NOT be placed but instead WILL have 0 
  ungroup()

# Check
fake_nurse_event_data_Perc

 ########################### ########################### ########################### 

## 3. Which nurses committed which event for instance Nurse C was associated with 9 events; therefore, how many were missed vs repeated turns
fake_nurse_event_data <- fake_nurse_event_data %>%
  group_by(`Nurse`, `Type of Event`) %>%
  summarize(Count = n(), .groups = "drop") %>%
  pivot_wider(names_from = `Type of Event`, values_from = Count, values_fill = list(Count = 0)) # Helping to move the data from long to wide data format

 ########################### ########################### ###########################

## 2.1. Fixing the deci placement 
fake_nurse_event_data_Perc <- fake_nurse_event_data_Perc %>%
  mutate(
  `Percentage_Missed Turn` = round(`Percentage_Missed Turn`, 1),
  `Percentage_Repeated Turn` = round(`Percentage_Repeated Turn`, 1))

 # Check 
fake_nurse_event_data_Perc

 ########################### ########################### ########################### 

## 2.2. Fixing the names 
  fake_nurse_event_data_Perc <- fake_nurse_event_data_Perc %>%
  rename(
    `Percentage Missed Turn` = `Percentage_Missed Turn`,
    `Percentage Repeated Turn` = `Percentage_Repeated Turn`,
    `Count Missed Turn` = `Count_Missed Turn`,
    `Count Repeated Turn` = `Count_Repeated Turn`)
 
# Check
fake_data_Repeated <- fake_data
fake_data_Repeated <- fake_data_Repeated %>%
mutate(Repeated_Turn_YesorNo = if_else(str_detect(`Type of Event`, "Repeated Turn"), "Yes", "No")) %>% # str_detect will return a true/false or yes/no
  mutate(Repeated_Turn_YesorNo = str_to_upper(Repeated_Turn_YesorNo)) # str_to_upper will cap all letters while str_to_title does first letter

# Check
fake_data_Repeated 

 ########################### ########################### ###########################

# Capitalize Nurse Letters
fake_data <- fake_data %>%
  mutate(Nurse = str_to_title(Nurse)) # str_to_title does first letter ; REMINDER IT IS NOT THE TITLE ITS THE DATA IN COLUMN

# Check
fake_data

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: fig-SpecNurse_Event_Amount (original)
#| echo: false
#| fig-cap: Nurse events and type of event 

## NURSE DATA ANALYSIS PLOTS pt. 1

# Convert the data back to long
fake_nurse_event_data_Perc_long <- fake_nurse_event_data_Perc
fake_nurse_event_data_Perc_long <- fake_nurse_event_data_Perc_long %>%
pivot_longer(cols = c(`Count Missed Turn`, `Count Repeated Turn`), 
              names_to = "Event Type", values_to = "Count")

########################### ########################### ###########################

# 1 Bar Chart (# of Events / Nurse)
ggplot(fake_nurse_event_data_Perc_long, aes(x = Nurse, y= Count, fill = `Event Type`)) + #aes is aesthetic, fill is type of aesthetic and here bars are filled based on event type
  geom_bar(stat = "identity", position = position_dodge(width = 0.8), width = 0.7) +
  # geom_bar creates bar char, stat= "identity" uses the values from data set, position = position_dodge helps make sure the bars are not stacked 
  labs(title = "Number of Events Per Nurse", x = "Nurse", y = "Event Count") +
  scale_fill_manual(values = c("Count Missed Turn" = "blue", 
                               "Count Repeated Turn" = "orange")) + # scale_fill_manual allows for you to place the colors manually 
  theme_minimal(base_family = "Times New Roman") +
    theme(
      axis.text.x = element_text(angle = 0, hjust = 0.5, size = 14), # hjust used for overlap prevention for text  
      axis.text.y = element_text(size = 12),
      axis.title.x = element_text(size = 14, face = "bold"),
      axis.title.y = element_text(size = 14, face = "bold"),
      plot.title = element_text(size = 22, face = "bold", hjust = 0.5),
      legend.position = "top",
      legend.title = element_text(size = 14, face = "bold"),
      legend.text = element_text(size = 12),
      panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
      plot.margin = margin(10, 10, 10, 10),
      panel.grid.minor = element_blank()) # panel.grid.minor helps get rid of the grid lines

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: NURSE DATA ANALYSIS PT.2 (original)
#| include: false
## Check how nurses do overtime 
fake_nurse_event_time_date <- fake_data
fake_nurse_event_time_date <- fake_nurse_event_time_date  %>%
  mutate(`Week of Event` = as.Date(cut(`Week of Event`, breaks = "week"))) %>%  # as.Date MAKE SURE D is CAP but it will convert val to date, cut whatever into a category, breaks will help specify the point where it should be cut off
  group_by(`Week of Event`, `Nurse`, `Type of Event`) %>%
  summarize(Count = n(), .groups = "drop") 

#Check
fake_nurse_event_time_date

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: NURSE DATA ANALYSIS PLOTS pt. 2 (original)
#| include: false
ggplot(fake_nurse_event_time_date, aes(x = `Week of Event`, y= `Count`, color = `Nurse`, group = interaction(`Nurse`, `Type of Event`))) +
  geom_line(size = 1) + # geom_line is line graph
  geom_point(size = 2) + # geom_point is scatter graph
  geom_smooth(aes(group = `Type of Event`), method = "loess", se = FALSE, linetype = "dashed", color = "black", size = 1.2) + # geom_smooth is trend line (smooth)
  scale_x_date(date_labels = "%b-%Y", date_breaks = "1 month")+ # date_labels = "%b-%Y" will help for it to be month-year
  facet_grid(rows = vars(`Type of Event`), scales = "free")+
  labs(title = "Nurse Turn Event Trends Over Time",
       x= "Week of Event",
       y= "Number of Events",
       color= "Nurse")+
  theme_minimal(base_family = "Times New Roman") +
  theme(
      axis.text.x = element_text(angle = 45, hjust = 1, size = 10),
      plot.title = element_text(size = 20, face = "bold"),  
      plot.subtitle = element_text(size = 14, face = "italic"),
      legend.position = "right",
      legend.direction = "vertical",
      legend.key.size = unit(0.6, "cm"),
      panel.spacing = unit(.5, "lines") # helps spacing want to use when facets are 
       )

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: NURSE DATA ANALYSIS PT.3 (original)
#| include: false
fake_nurse_shift <- fake_data %>%
mutate(`Nurse` = as.factor(`Nurse`),
    Hour = as.numeric(format(strptime(`Time of Event`, format = "%H:%M:%S"), "%H")), # parses chr string to date-time  
    Shift_Type = case_when(
      Hour >= 6 &
      Hour < 18 ~ "Day", 
TRUE ~ "Night")) %>%
mutate(
  Shift_Type = fct_recode(Shift_Type, "Day Shift" = "Day", "Night Shift" = "Night"), # Renaming forcat func
   Shift_Type = fct_relevel(Shift_Type,"Day Shift", "Night Shift"), # reorder levels forcat func
  `Type of Event` = factor(`Type of Event`, levels = c("Missed Turn", "Repeated Turn")),
  `Nurse` = fct_lump(`Nurse`, n = 4)) %>% # creates other categ forecat func
   select(-Hour)
  
# Check
fake_nurse_shift

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: fig-Nurse_Shift_Event (original)
#| echo: false
#| fig-cap: Nurse events and shift type
ggplot(fake_nurse_shift, aes(x= `Shift_Type`, fill= `Type of Event`)) +
  geom_bar(position = "stack", width = 0.7, color = "black") +
  geom_text(stat = "count", aes(label = ..count..), 
    position = position_stack(vjust = 0.5), size = 6, color = "white") + # geom_text is labels/text/values for bars here, aes(label = ..count..) is just the count for each category, position _stack places the label inside the bars, vjust helping to center text (vertically remember hjust)
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Missed and Repeated Turn Occurrence by Shift",
       x = "Shift Type",
       y = "Number of Events",
       fill = "Event Type") +
  theme_minimal(base_family = "Times New Roman") +
  theme(
plot.title = element_text(size = 22, face = "bold", hjust = 0.5),
axis.text.x = element_text(size = 14, face = "bold", color = "black"),
axis.text.y = element_text(size = 12, color = "black"),
axis.title.x = element_text(size = 16, face = "bold"),
axis.title.y = element_text(size = 16, face = "bold"),
legend.position = "top",
legend.title = element_text(size = 14, face = "bold"),
legend.text = element_text(size = 12),
panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank())

fake_nurse_shift %>%
  count(`Type of Event`, sort = TRUE) 

fake_nurse_shift

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: NURSE DATA ANALYSIS PT.4 (original)
#| include: false
fake_nurse_weekdayend <- fake_data
fake_nurse_weekdayend <- fake_nurse_weekdayend  %>%
mutate(
  Day_Type = case_when(
    weekdays(as.Date(`Date of Event`)) %in% c("Saturday", "Sunday") ~ "Weekend",     TRUE ~ "Weekday"  
  )
)

# Check
fake_nurse_weekdayend

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: fig-Nurse_Weekdayend_Type (original)
#| echo: false
#| fig-cap: Nurse shift type (weekdayend) and type of turns 
## NURSE DATA ANALYSIS PLOT PT.4
ggplot(fake_nurse_weekdayend, aes(x = Day_Type, fill = `Type of Event`)) +
  geom_bar(position = "dodge", width = 0.6, color = "black") +
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Event Occurrence on Weekdays vs. Weekends",
       x = "Day Type",
       y = "Number of Events",
       fill = "Event Type") +
  theme_minimal(base_family = "Times New Roman") +
theme(
plot.title = element_text(size = 22, face = "bold", hjust = 0.5),
axis.text.x = element_text(size = 14, face = "bold", color = "black"),
axis.text.y = element_text(size = 12, color = "black"),
axis.title.x = element_text(size = 16, face = "bold"),
axis.title.y = element_text(size = 16, face = "bold"),
legend.position = "top",
legend.title = element_text(size = 14, face = "bold"),
legend.text = element_text(size = 12),
panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank())

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: Patient Analysis pt 1 (original)
#| include: false
fake_patient_event <- fake_data
fake_patient_event <- fake_patient_event %>%
  mutate(Age_Group = cut(Age, breaks = c(20, 40, 60, 80, 100), # cut whatever into a category, breaks will help specify the point where it should be cut off
                         labels = c("20-39", "40-59", "60-79", "80+")))

# Check
fake_patient_event

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: fig-Nurse_Event_Age (original)
#| echo: false
#| fig-cap: Nurse events and Age 
## Patient Analysis PLOT pt 1
ggplot(fake_patient_event, aes(x = Age_Group, fill = `Type of Event`)) +
  geom_bar(position = "dodge", width = 0.8, color = "black") +
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Event Occurrence by Age Group",
       x = "Age Group",
       y = "Number of Events",
       fill = "Event Type") + 
  theme_minimal(base_family = "Times New Roman") +
theme(
plot.title = element_text(size = 24, face = "bold", hjust = 0.5),
axis.text.x = element_text(size = 14, face = "bold", color = "black"),
axis.text.y = element_text(size = 12, color = "black"),
axis.title.x = element_text(size = 16, face = "bold"),
axis.title.y = element_text(size = 16, face = "bold"),
legend.position = "top",
legend.title = element_text(size = 14, face = "bold"),
legend.text = element_text(size = 12),
panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank())

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: Patient Analysis Plot pt 2 (original)
#| include: false
## Event type and lOS
ggplot(fake_data, aes(x= `Type of Event`, y = `Length of Stay`, fill = `Type of Event`)) +
  geom_boxplot(width = 0.5, outlier.color = "red", outlier.shape = NA, outlier.size = 1.5) + # outlier. is just outliers 
  geom_jitter(aes(color = `Type of Event`), width = 0.2, size = 2, alpha = 0.5) +
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "Relationship Between Event Type and Length of Stay",
       x= "Event Type",
       y= "Length of Stay (Days)",
       fill= "Event Type",
       color= "Event Type") +
  theme_minimal(base_family = "Times New Roman") +
 theme(
plot.title = element_text(size = 20, face = "bold", hjust = 0.5),
axis.text.x = element_text(size = 14, face = "bold", color = "black"),
axis.text.y = element_text(size = 12, color = "black"),
axis.title.x = element_text(size = 16, face = "bold"),
axis.title.y = element_text(size = 16, face = "bold"),
legend.position = "top",
legend.title = element_text(size= 14, face = "bold"),
legend.text = element_text(size = 12),
panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
plot.margin = margin(10, 10, 10, 10),
panel.grid.minor = element_blank()) 

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: T test for Los and Type of event (original)
#| include: false
result_t_test <- t.test(`Length of Stay` ~ `Type of Event`, data = fake_data)

# Check
result_t_test

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: Patient Stay and Risk Level (original)
fake_patient_event <- fake_patient_event %>%
  mutate(
    Type_of_Stay = if_else(`Length of Stay` >= 15, "Long Stay", "Normal Stay")
  )


## High Risk and Patient Stay
## Less than 9 is considered severe
fake_patient_event <- fake_patient_event %>%
  mutate(
    Long_Stay_High_Risk = if_else(
      (`Braden Scale` <= 12 & `Length of Stay` >15) | (`Braden Scale` <9),
      "High Risk", 
      "Normal Risk"
    ))

# Check 
fake_patient_event

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: fig-Age_Type_Risk (original)
#| echo: false
#| fig-cap: Age type and risk

ggplot(fake_patient_event, aes(x = `Age_Group`, fill = `Type of Event`)) +
  geom_bar(position = "dodge", color = "black") +
  facet_wrap(~ Long_Stay_High_Risk) + 
  scale_fill_manual(values = c("Missed Turn" = "blue", "Repeated Turn" = "orange")) +
  labs(title = "x",
       x = "Age Group",
       y = "Number of Events",
       fill = "Event Type") +
  theme_minimal(base_family = "Times New Roman") +
  theme(
    plot.title = element_text(size = 20, face = "bold", hjust = 0.5),
    axis.text.x = element_text(size = 14, face = "bold", color = "black"),
    axis.text.y = element_text(size = 12, color = "black"),
    axis.title.x = element_text(size = 16, face = "bold"),
    axis.title.y = element_text(size = 16, face = "bold"),
    legend.position = "top",
    legend.title = element_text(size = 14, face = "bold"),
    legend.text = element_text(size = 12),
    panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3),
    plot.margin = margin(10, 10, 10, 10),
    panel.grid.minor = element_blank()
  )

### chattttttt

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: ADD Titlei5i (original)
#| include: false
# Analyze the data for Event(s)
#Type of Events
fake_data %>%
  count(`Type of Event`, sort = TRUE)

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 
 
```

```{r}
#| label: READER (original)
#| include: false
getwd()
write_csv(fake_data, "fake_data.csv")
fake_data.csv <- read_csv("/Users/michaelavalosjr./Repos for Rstudio/Vocera-Phone-Alarms/fake_data.csv")

# Check
fake_data.csv

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```


```{r}
#| label: T-test Braden Score and Types of Events (original)
Braden_t_test <- t.test(`Braden Scale` ~ `Type of Event`, data = fake_data)
# Means for two groups is compared to dictate whether the diff is stat sig (t-test), checking if the braden score alters based on missed or repeated

# Check
Braden_t_test

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: Chisq Test Nurse and Events (original)
nurse_event_table <- table(fake_data$`Type of Event`, fake_data$`Nurse`)
# Helping to create a table (contingency)
# chisq helps determine for two cat vars if there is stat relationship 

# Chi-sq-test
chi_sq_test_nurse_event <- chisq.test(nurse_event_table)

# Check
chi_sq_test_nurse_event

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```

```{r}
#| label: tbl-Ttest_Chisq_Table (original)
#| echo: false
#| tbl-cap: Ttest_Chisq_Table

# Need to remember tbl not tab
Ttest_Chisq_Table <- data.frame(
# df to have test results stored
Test = c("T-Test (Braden Scale ~ Type of Event", "Chi-Square (Event ~ Nurse Associated)"), 
  # t-test and and chi-sq listed
Statistic = c(round(Braden_t_test$statistic, 2),
# test stat (tval & chisq val) for both stored 
round(chi_sq_test_nurse_event$statistic, 2)),
p_value = c(round(Braden_t_test$p.value, 4),
# p-val is stored
round(chi_sq_test_nurse_event$p.value, 2)),
# p-val is stored
df = c(round(Braden_t_test$parameter, 2), chi_sq_test_nurse_event$parameter),
# degreees of freedom 
Method = c(Braden_t_test$method, chi_sq_test_nurse_event$method)
) # use of method is stored (e.g., welech and pearson)

kable(Ttest_Chisq_Table,
      # kable helps a formatted table to be created 
      caption = "Hypothesis Test Results: T-Test and Chi-Square",
      col.names = c("Test", "Statistic", "p-value", "Degress of Freedom", "Method"))


# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```



```{r}
#| label: ADD Title 5785869869609707
#| include: false


# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk 

```



```{r}
#| label: fig-SpecNurse_Shift_missed (original)
#| echo: false
#| fig-cap: Nurse shift and missed turns 
ggplot(fake_nurse_shift %>% filter(`Type of Event` == "Missed Turn"), 
       aes(x = Nurse, fill = `Shift_Type`)) +
  geom_bar(position = "dodge", width = 0.7, color = "black") +
  labs(title = "x",
       x = "Nurse",
       y = "Number of Missed Turns",
       fill = "Shift Type") +
  scale_fill_manual(values = c("Day Shift" = "blue", "Night Shift" = "orange")) +
  theme_minimal(base_family = "Times New Roman") +
  theme(
    plot.title = element_text(size = 22, face = "bold", hjust = 0.5),
    axis.text.x = element_text(size = 14, face = "bold", color = "black"),
    axis.text.y = element_text(size = 12, color = "black"),
    axis.title.x = element_text(size = 16, face = "bold"),
    axis.title.y = element_text(size = 16, face = "bold"),
    legend.position = "top",
    legend.title = element_text(size = 14, face = "bold"),
    legend.text = element_text(size = 12),
    panel.grid.major = element_line(color = "gray90", linetype = "dashed", size = 0.3), 
    plot.margin = margin(10, 10, 10, 10),
    panel.grid.minor = element_blank())

# Chatttttttt

# Comment Help from CHATGPT
# Help from ChatGPT throughtout Chunk  

```







